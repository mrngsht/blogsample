---
import Layout from "../layouts/Layout.astro";
import TopImageSwiper from "../components/TopImageSwiper.astro";
import { getNewsPosts, getProducts } from "../microcms";
import NewsList from "../components/NewsList.astro";
import { Image } from "astro:assets";
import webstoreImage from "../images/webstore.webp"
import cafeImage from "../images/cafe.jpg"
import ProductList from "../components/ProductList.astro";

const news = await getNewsPosts(3);
const products = await getProducts(3);
---

<Layout title="Sample Web" invertHeaderColorOnPageScroll={true}>
  <main class="home">
    <div class="top-image-swiper">
      <TopImageSwiper />
    </div>
    <div class="contents">
      <div class="content">
        <p>
          私の目に映る景色は、壮大な自然と美しい空。<br>
          一年の半分は白い美しい世界に包まれて、白い季節は目を閉じて時の流れを感じている。<br>
          ひんやりとした空気なのだけど、なぜかとても暖かくて心地が良くて。<br>
          目を開ける頃には、力が漲り、目の前に広がる壮大な緑の大地に一歩踏み出す。<br>
          短い緑の季節。 この緑の大地を力強く駆け抜ける。<br>
          この景色の向こう側には何が待っているのだろう。
        </p>
      </div>

      <div class="content">
        <h1 class="title">news</h1>
        <NewsList news={news} />
        <p class="link-button">
          <a href="/news/page/1">お知らせ一覧を見る</a>
        </p>
      </div>

      <div class="content">
        <h1 class="title">products</h1>
        <ProductList products={products} />
        <p class="link-button">
          <a href="/products/page/1">商品一覧を見る</a>
        </p>
      </div>

      <div class="content">
        <h1 class="title">webstore</h1>
        <p>
          <Image src={webstoreImage} alt="web store image" />
        </p>
        <p class="center-description">
          WEBでも不定期で商品を販売しております
        </p>
        <p class="link-button">
          <a href="https://amam-plus.com/" target="_blank" rel="noopener noreferrer">WEBSTOREへ行く</a>
        </p>
      </div>

      <div class="content">
        <h1 class="title">cafe</h1>
        <p>
          <Image src={cafeImage} alt="cafe image" />
        </p>
        <p class="center-description">
          店舗併設のカフェの予約ができます
        </p>
        <p class="link-button">
          <a href="https://tol-app.jp/s/amamplus" target="_blank" rel="noopener noreferrer">カフェの予約をする</a>
        </p>
      </div>

    </div>
  </main>
</Layout>

<style>
  main {
    padding: 0;
  }
  .top-image-swiper {
    position: relative;
    top: 0;
    left: 0;
    margin-top: calc(var(--header-height) * -1);
    width: 100vw;
    height: 100vh;
  }
  .contents {
    position: relative;
    width: var(--main-width);
    max-width: var(--main-max-width);
    margin: 0 auto;
  }

  .content {
    padding-top: 2rem;
  }
  .content:not(:nth-child(1)) {
    margin-top: 4rem;
    border-top: .1rem solid rgba(18, 18, 18,.08);
  }

  .content .center-description {
    text-align: center;
    margin: 2rem 0;
  }

  .content img {
    width: 85%;
    max-width: 600px;
    height: 400px;
    display: block;
    margin: 0 auto;
    object-fit: cover;
    object-position: 0 57%;
  }

  .link-button {
    text-align: center;
    margin: 5rem 0;
  }

  .link-button a {
    border: 1px solid var(--main-fg-color);
    padding: 0.7rem 4rem;
    text-decoration: none;
  }

  .link-button a:hover {
    opacity: 0.7;
  }
</style>
