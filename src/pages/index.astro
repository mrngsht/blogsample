---
import Layout from "../layouts/Layout.astro";
import TopImageSwiper from "../components/TopImageSwiper.astro";
import LinkButton from "../components/LinkButton.astro";
import { getNewsPosts, getProducts } from "../microcms";
import NewsList from "../components/NewsList.astro";
import ProductList from "../components/ProductList.astro";
import WebstoreContent from "../components/WebstoreContent.astro";
import CafeContent from "../components/CafeContent.astro";
import Metadata  from "../components/Metadata.astro";

const news = await getNewsPosts(3);
const products = await getProducts(3);
---

<Layout invertHeaderColorOnPageScroll={true}>
  <Fragment slot="head">
    <Metadata title="" />
  </Fragment>
  <Fragment slot="body">
    <main class="home">
      <div class="top-image-swiper">
        <TopImageSwiper />
      </div>
      <div class="contents">
        <div class="content">
          <h1 class="title">ABOUT</h1>
          <p>
            私の目に映る景色は、壮大な自然と美しい空。<br>
            一年の半分は白い美しい世界に包まれて、白い季節は目を閉じて時の流れを感じている。<br>
            ひんやりとした空気なのだけど、なぜかとても暖かくて心地が良くて。<br>
            目を開ける頃には、力が漲り、目の前に広がる壮大な緑の大地に一歩踏み出す。<br>
            短い緑の季節。 この緑の大地を力強く駆け抜ける。<br>
            この景色の向こう側には何が待っているのだろう。
          </p>
          <LinkButton href="/about">詳しく見る</LinkButton>
        </div>

        <div class="content">
          <h1 class="title">NEWS</h1>
          <NewsList news={news} />
          <LinkButton href="/news/page/1">お知らせ一覧を見る</LinkButton>
        </div>

        <div class="content">
          <h1 class="title">PRODUCTS</h1>
          <ProductList products={products} />
          <LinkButton href="/products/page/1">商品一覧を見る</LinkButton>
        </div>

        <div class="content">
          <h1 class="title">WEBSTORE</h1>
          <WebstoreContent />
        </div>

        <div class="content">
          <h1 class="title">CAFE</h1>
          <CafeContent />
        </div>

      </div>
    </main>
  </Fragment>
</Layout>

<style>
  main {
    padding: 0;
  }
  .top-image-swiper {
    position: relative;
    top: 0;
    left: 0;
    margin-top: calc(var(--header-height) * -1);
    height: 100vh;
  }
  .contents {
    position: relative;
    width: var(--main-width);
    max-width: var(--main-max-width);
    margin: 0 auto;
  }

  .content {
    padding-top: 2rem;
  }
  .content:not(:nth-child(1)) {
    margin-top: 4rem;
    border-top: .1rem solid rgba(18, 18, 18,.08);
  }
</style>
